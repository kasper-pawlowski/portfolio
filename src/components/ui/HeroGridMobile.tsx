import React, { useEffect, useState, useMemo } from 'react' // Dodaj useMemo
import { animate, hover, motion, useScroll, useTransform } from 'framer-motion'

type HeroGridMobileProps = {
  tileSize?: number
  stroke?: string
  fill?: string
  className?: string
  width?: string
  height?: string
}

const HeroGridMobile = ({
  tileSize = 39,
  stroke = '#8A8A8A',
  fill = 'none',
  width = '100%',
  height = 'auto',
  className = 'z-[-2] px-8'
}: HeroGridMobileProps) => {
  const { scrollYProgress } = useScroll()

  const rotateElement08 = useTransform(
    scrollYProgress,
    [0, 1],
    ['0deg', '960deg']
  )

  return (
    <motion.svg
      width={width}
      height={height}
      viewBox='0 0 391 391'
      fill={fill}
      xmlns='http://www.w3.org/2000/svg'
      className={className}
    >
      <g id='grid'>
        <rect
          id='sq01'
          x='0.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq02'
          x='39.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq03'
          x='78.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq04'
          x='117.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq05'
          x='156.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq06'
          x='195.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq07'
          x='234.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq08'
          x='273.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq09'
          x='312.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq10'
          x='351.5'
          y='0.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq11'
          x='0.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq12'
          x='39.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq13'
          x='78.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq14'
          x='117.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq15'
          x='156.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq16'
          x='195.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq17'
          x='234.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq18'
          x='273.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq19'
          x='312.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq20'
          x='351.5'
          y='39.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq21'
          x='0.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq22'
          x='39.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq23'
          x='78.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq24'
          x='117.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq25'
          x='156.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq26'
          x='195.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq27'
          x='234.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq28'
          x='273.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq29'
          x='312.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq30'
          x='351.5'
          y='78.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq31'
          x='0.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq32'
          x='39.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq33'
          x='78.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq34'
          x='117.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq35'
          x='156.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq36'
          x='195.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq37'
          x='234.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq38'
          x='273.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq39'
          x='312.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq40'
          x='351.5'
          y='117.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq41'
          x='0.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq42'
          x='39.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq43'
          x='78.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq44'
          x='117.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq45'
          x='156.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq46'
          x='195.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq47'
          x='234.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq48'
          x='273.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq49'
          x='312.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq50'
          x='351.5'
          y='156.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq51'
          x='0.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq52'
          x='39.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq53'
          x='78.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq54'
          x='117.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq55'
          x='156.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq56'
          x='195.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq57'
          x='234.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq58'
          x='273.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq59'
          x='312.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq60'
          x='351.5'
          y='195.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq61'
          x='0.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq62'
          x='39.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq63'
          x='78.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq64'
          x='117.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq65'
          x='156.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq66'
          x='195.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq67'
          x='234.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq68'
          x='273.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq69'
          x='312.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq70'
          x='351.5'
          y='234.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq71'
          x='0.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq72'
          x='39.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq73'
          x='78.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq74'
          x='117.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq75'
          x='156.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq76'
          x='195.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq77'
          x='234.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq78'
          x='273.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq79'
          x='312.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq80'
          x='351.5'
          y='273.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq81'
          x='0.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq82'
          x='39.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq83'
          x='78.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq84'
          x='117.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq85'
          x='156.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq86'
          x='195.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq87'
          x='234.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq88'
          x='273.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq89'
          x='312.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq90'
          x='351.5'
          y='312.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq91'
          x='0.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq92'
          x='39.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq93'
          x='78.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq94'
          x='117.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq95'
          x='156.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq96'
          x='195.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq97'
          x='234.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq98'
          x='273.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq99'
          x='312.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
        <rect
          id='sq100'
          x='351.5'
          y='351.5'
          width='39'
          height='39'
          stroke='#8A8A8A'
        />
      </g>
      <g id='elements'>
        <motion.path
          id='element-08'
          style={{ rotate: rotateElement08 }}
          d='M341 263.5L335.469 253.991L318.033 263.987V244H306.971V263.991L289.531 253.994L284 263.505L301.435 273.499L284.005 283.492L289.536 293.001L306.971 283.005V303H318.033V283.012L335.464 293.006L340.995 283.495L323.558 273.499L341 263.5Z'
          fill='var(--foreground-light)'
        />
        <path
          id='element-07'
          d='M351.5 372C351.459 360.692 342.297 351.538 331 351.538C342.322 351.538 351.5 342.343 351.5 331C351.541 342.308 360.703 351.462 372 351.462C360.678 351.462 351.5 360.657 351.5 372Z'
          fill='#8A8A8A'
        />
        <path
          id='element-05'
          d='M273.508 23.5381C275.279 31.4656 281.515 37.703 289.435 39.4619C281.49 41.2264 275.239 47.4978 273.491 55.4609C271.72 47.5336 265.484 41.2956 257.564 39.5371C265.51 37.7728 271.76 31.5018 273.508 23.5381Z'
          fill='#C4C2BB'
          stroke='#8A8A8A'
        />
        <path
          id='element-04'
          d='M195.5 177C195.459 165.692 186.297 156.538 175 156.538C186.322 156.538 195.5 147.343 195.5 136C195.541 147.308 204.703 156.462 216 156.462C204.678 156.462 195.5 165.657 195.5 177Z'
          fill='#8A8A8A'
        />
        <path
          id='element-03'
          d='M156.511 162.269C159.244 179.289 172.677 192.721 189.679 195.426C172.628 198.138 159.169 211.641 156.488 228.73C153.754 211.71 140.322 198.277 123.32 195.573C140.371 192.862 153.831 179.358 156.511 162.269Z'
          fill='#C4C2BB'
          stroke='#8A8A8A'
        />
        <g id='element-02'>
          <path d='M59 351H49.5V341.5H59V351Z' fill='#8A8A8A' />
          <path d='M78 351H68.5V341.5H78V351Z' fill='#8A8A8A' />
          <path d='M49.5 341.5H40V332H49.5V341.5Z' fill='#8A8A8A' />
          <path d='M68.5 341.5H59V332H68.5V341.5Z' fill='#8A8A8A' />
          <path d='M59 332H49.5V322.5H59V332Z' fill='#8A8A8A' />
          <path d='M78 332H68.5V322.5H78V332Z' fill='#8A8A8A' />
          <path d='M49.5 322.5H40V313H49.5V322.5Z' fill='#8A8A8A' />
          <path d='M68.5 322.5H59V313H68.5V322.5Z' fill='#8A8A8A' />
        </g>
        <path
          id='element-01'
          d='M39.0312 60.708C39.1823 60.2999 39.7328 60.2745 39.9336 60.6318L39.9688 60.708L44.4082 72.7051C44.5601 73.1157 44.8843 73.4399 45.2949 73.5918L57.292 78.0312C57.7001 78.1823 57.7255 78.7328 57.3682 78.9336L57.292 78.9688L45.2949 83.4082C44.8843 83.5601 44.5601 83.8843 44.4082 84.2949L39.9688 96.292C39.8177 96.7001 39.2672 96.7255 39.0664 96.3682L39.0312 96.292L34.5918 84.2949C34.4399 83.8843 34.1157 83.5601 33.7051 83.4082L21.708 78.9688C21.2999 78.8177 21.2745 78.2672 21.6318 78.0664L21.708 78.0312L33.7051 73.5918C34.1157 73.4399 34.4399 73.1157 34.5918 72.7051L39.0312 60.708Z'
          fill='#C4C2BB'
          stroke='#8A8A8A'
        />
      </g>
    </motion.svg>
  )
}

export default HeroGridMobile
