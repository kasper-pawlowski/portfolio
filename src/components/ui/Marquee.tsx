import React, { useEffect, useRef } from 'react'

type MarqueeProps = {
  tileSize?: number
  stroke?: string
  fill?: string
  className?: string
  width?: string
  height?: string
  id?: number
}

const Marquee = ({
  tileSize = 39,
  stroke = '#8A8A8A',
  fill = 'none',
  width = '100%',
  height = 'auto',
  className = '',
  id
}: MarqueeProps) => {
  const computedClassName = `${className} absolute bottom-0 z-1 w-full h-auto ${
    id === 1 ? 'left-[-50%]' : id === 2 ? 'left-[50%]' : 'left-[0%]'
  }`

  const parallaxMarqueeRef = useRef<SVGSVGElement>(null)

  useEffect(() => {
    if (parallaxMarqueeRef.current) {
      const height = parallaxMarqueeRef.current.getBoundingClientRect().height
      console.log('height', height)
      document.documentElement.style.setProperty(
        '--parallaxMarquee-height',
        `${height}px`
      )
    }
  }, [])

  return (
    <svg
      ref={parallaxMarqueeRef}
      width={width}
      height={height}
      viewBox='0 0 1171 79'
      fill='none'
      className={computedClassName}
      xmlns='http://www.w3.org/2000/svg'
    >
      <g id='divider'>
        <g id='row1'>
          <rect
            id='sq01-r1'
            x='0.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq02-r1'
            x='39.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq03-r1'
            x='78.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq04-r1'
            x='117.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq05-r1'
            x='156.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq06-r1'
            x='195.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq07-r1'
            x='234.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq08-r1'
            x='273.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq09-r1'
            x='312.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq10-r1'
            x='351.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq11-r1'
            x='390.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq12-r1'
            x='429.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq13-r1'
            x='468.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq14-r1'
            x='507.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq15-r1'
            x='546.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq16-r1'
            x='585.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq17-r1'
            x='624.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq18-r1'
            x='663.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq19-r1'
            x='702.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq20-r1'
            x='741.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq21-r1'
            x='780.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq22-r1'
            x='819.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq23-r1'
            x='858.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq24-r1'
            x='897.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq25-r1'
            x='936.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq26-r1'
            x='975.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq27-r1'
            x='1014.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq28-r1'
            x='1053.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq29-r1'
            x='1092.5'
            y='0.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <g id='sq30-r1'>
            <mask id='path-30-inside-1_413_124' fill='white'>
              <path d='M1131 0H1171V40H1131V0Z' />
            </mask>
            <path
              d='M1131 0V-1H1130V0H1131ZM1131 40H1130V41H1131V40ZM1131 0V1H1171V0V-1H1131V0ZM1171 40V39H1131V40V41H1171V40ZM1131 40H1132V0H1131H1130V40H1131Z'
              fill='#8A8A8A'
              mask='url(#path-30-inside-1_413_124)'
            />
          </g>
        </g>
        <g id='row2'>
          <rect
            id='sq01-r2'
            x='0.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq02-r2'
            x='39.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq03-r2'
            x='78.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq04-r2'
            x='117.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq05-r2'
            x='156.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq06-r2'
            x='234.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq07-r2'
            x='273.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq08-r2'
            x='312.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq09-r2'
            x='351.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq10-r2'
            x='390.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq11-r2'
            x='429.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq12-r2'
            x='468.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq13-r2'
            x='507.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq14-r2'
            x='546.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq15-r2'
            x='585.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq16-r2'
            x='624.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq17-r2'
            x='663.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq18-r2'
            x='702.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq19-r2'
            x='741.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq20-r2'
            x='780.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq21-r2'
            x='819.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq22-r2'
            x='858.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq23-r2'
            x='897.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq24-r2'
            x='936.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq25-r2'
            x='975.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq26-r2'
            x='1014.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq27-r2'
            x='1053.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <rect
            id='sq28-r2'
            x='1092.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
          <g id='sq29-r2'>
            <mask id='path-60-inside-2_413_124' fill='white'>
              <path d='M1131 39H1171V79H1131V39Z' />
            </mask>
            <path
              d='M1131 39V38H1130V39H1131ZM1131 79H1130V80H1131V79ZM1131 39V40H1171V39V38H1131V39ZM1171 79V78H1131V79V80H1171V79ZM1131 79H1132V39H1131H1130V79H1131Z'
              fill='#8A8A8A'
              mask='url(#path-60-inside-2_413_124)'
            />
          </g>
          <rect
            id='sq30-r2'
            x='195.5'
            y='39.5'
            width='39'
            height='39'
            stroke='#8A8A8A'
          />
        </g>
        <g id='elements'>
          <path
            id='portal01'
            d='M117.508 23.5381C119.279 31.4656 125.515 37.703 133.435 39.4619C125.49 41.2264 119.239 47.4978 117.491 55.4609C115.72 47.5336 109.484 41.2956 101.564 39.5371C109.51 37.7728 115.76 31.5018 117.508 23.5381Z'
            fill='#A3A3A3'
            stroke='#8A8A8A'
          />
          <path
            id='portal02'
            d='M351.508 23.5381C353.279 31.4656 359.515 37.703 367.435 39.4619C359.49 41.2264 353.239 47.4978 351.491 55.4609C349.72 47.5336 343.484 41.2956 335.564 39.5371C343.51 37.7728 349.76 31.5018 351.508 23.5381Z'
            fill='#A3A3A3'
            stroke='#8A8A8A'
          />
          <path
            id='portal03'
            d='M585.508 23.5381C587.279 31.4656 593.515 37.703 601.435 39.4619C593.49 41.2264 587.239 47.4978 585.491 55.4609C583.72 47.5336 577.484 41.2956 569.564 39.5371C577.51 37.7728 583.76 31.5018 585.508 23.5381Z'
            fill='#A3A3A3'
            stroke='#8A8A8A'
          />
          <path
            id='portal04'
            d='M819.508 23.5381C821.279 31.4656 827.515 37.703 835.435 39.4619C827.49 41.2264 821.239 47.4978 819.491 55.4609C817.72 47.5336 811.484 41.2956 803.564 39.5371C811.51 37.7728 817.76 31.5018 819.508 23.5381Z'
            fill='#A3A3A3'
            stroke='#8A8A8A'
          />
          <path
            id='portal05'
            d='M1053.51 23.5381C1055.28 31.4656 1061.51 37.703 1069.43 39.4619C1061.49 41.2264 1055.24 47.4978 1053.49 55.4609C1051.72 47.5336 1045.48 41.2956 1037.56 39.5371C1045.51 37.7728 1051.76 31.5018 1053.51 23.5381Z'
            fill='#A3A3A3'
            stroke='#8A8A8A'
          />
        </g>
      </g>
    </svg>
  )
}

export default Marquee
